C51 COMPILER V9.02   MAIN                                                                  12/26/2021 22:28:09 PAGE 1   


C51 COMPILER V9.02, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\output\main.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE source\main.c OMF2 OPTIMIZE(9,SPEED) BROWSE DEBUG PRINT(.\lst\main.lst) OBJ
                    -ECT(.\output\main.obj)

line level    source

   1          #ifndef _MAIN_C_
   2          #define _MAIN_C_
   3          /*********************************************************************************************************
             -************/
   4          #include "include/ca51f1_config.h"              
   5          #include "include/ca51f1sfr.h"
   6          #include "include/ca51f1xsfr.h"
   7          #include "include/gpiodef_f1.h"
   8          
   9          #include "include/uart.h"
  10          #include "include/delay.h"
  11          #include <intrins.h>
  12          /*********************************************************************************************************
             -************
  13                  引脚控制例程
  14          **********************************************************************************************************
             -***********/
  15          void main(void)
  16          {       
  17   1      #ifdef LVD_RST_ENABLE
  18   1              LVDCON = 0xE0;                                  //设置LVD复位电压为2.7V
  19   1      #endif
  20   1      
  21   1      #ifdef SYSCLK_16MHZ                                     //系统时钟为16MHz,设置CKDIV为0
                      CKDIV = 0;
              #endif
  24   1      
  25   1      #ifdef UART_EN
                      Uart_Initial(UART_BAUTRATE);    //初始化UART
              #endif
  28   1              
  29   1              EA = 1;                                                 //开全局中断
  30   1      
  31   1      /*********************************************************************************************************
             -***********/
  32   1      
  33   1              P01F = 2;                                               //P01设置为推挽输出模式
  34   1              while(1)
  35   1              {
  36   2                      P01 = 1;                                        //输出高电平
  37   2                      Delay_ms(1);
  38   2                      P01 = 0;                                        //输出低电平
  39   2                      Delay_ms(1);
  40   2              }
  41   1      
  42   1      /*********************************************************************************************************
             -***********/                        
  43   1      
  44   1              P01F = 1;                                               //P00设置为输入模式
  45   1              while(1)
  46   1              {
  47   2                      if(P01)
  48   2                      {
  49   3                      #ifdef PRINT_EN
C51 COMPILER V9.02   MAIN                                                                  12/26/2021 22:28:09 PAGE 2   

                                      uart_printf("P01 Input High!\n");
                              #endif
  52   3                      }
  53   2                      else
  54   2                      {
  55   3                      #ifdef PRINT_EN
                                      uart_printf("P01 Input Low!\n");
                              #endif
  58   3                      }
  59   2              }
  60   1      
  61   1      //引脚功能设置，例如：
  62   1      /*********************************************************************************************************
             -***********/                
  63   1      //P01设置为推挽输出，程序如下：
  64   1              P01F = 2;                                       
  65   1      /*********************************************************************************************************
             -***********/        
  66   1      //P01设置为开漏输出，程序如下：
  67   1              P01F = (1<<5)|2;
  68   1      /*********************************************************************************************************
             -***********/
  69   1      //P01设置为开漏输出，并且打开上拉，程序如下：
  70   1              P01F = (1<<7)|(1<<5)|2;         
  71   1      /*********************************************************************************************************
             -***********/        
  72   1      //P01设置为输入功能，并且打开上拉，程序如下：
  73   1              P01F = (1<<7)|1;                
  74   1      /*********************************************************************************************************
             -***********/        
  75   1      //P01设置为输入功能，并且打开下拉，程序如下：
  76   1              P01F = (1<<6)|1;
  77   1      /*********************************************************************************************************
             -***********/                
  78   1              
  79   1              while(1)
  80   1              {
  81   2      
  82   2              }
  83   1      }
  84          #endif


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     31    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
