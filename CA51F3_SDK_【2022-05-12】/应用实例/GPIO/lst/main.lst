C51 COMPILER V9.02   MAIN                                                                  05/11/2022 23:26:56 PAGE 1   


C51 COMPILER V9.02, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\output\main.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE source\main.c OMF2 BROWSE DEBUG PRINT(.\lst\main.lst) OBJECT(.\output\main.
                    -obj)

line level    source

   1          
   2          #ifndef _MAIN_C_
   3          #define _MAIN_C_
   4          /*********************************************************************************************************
             -************/
   5          #include "include/ca51f_config.h"               
   6          #include "include/ca51f3sfr.h"
   7          #include "include/ca51f3xsfr.h"
   8          #include "include/gpiodef_f3.h"
   9          #include "include/system_clock.h"
  10          
  11          #include "include/uart.h"
  12          #include "include/delay.h"
  13          #include <intrins.h>
  14          /*********************************************************************************************************
             -************
  15                  本例程以P00为例，设置P00为不同模式，所有IO用法与P00相同。
  16          **********************************************************************************************************
             -***********/
  17          void main(void)
  18          {
  19   1      #if (SYSCLK_SRC == PLL)
                      Sys_Clk_Set_PLL(PLL_Multiple);  //设置系统时钟为PLL，PLL_Multiple为倍频倍数
              #endif
  22   1              
  23   1      #ifdef UART0_EN
                      Uart0_Initial(UART0_BAUTRATE);  //初始化UART0
              #endif
  26   1              
  27   1      #ifdef UART1_EN
                      Uart1_Initial(UART1_BAUTRATE);  //初始化UART1
              #endif
  30   1      
  31   1              EA = 1;                                                                                                 //开全局中断
  32   1      
  33   1      #ifdef PRINT_EN
                      uart_printf("GPIO Demo Code\n");
              #endif
  36   1      
  37   1      /**************************************************************************************************/
  38   1              P00F = OUTPUT;                  //P00设置为推挽输出模式
  39   1              while(1)
  40   1              {
  41   2                      P00 = ~P00;                     //P00取反输出
  42   2              }
  43   1      /***********************************************************************************/           
  44   1      
  45   1      
  46   1      /***********************************************************************************/           
  47   1              P00F = INPUT;                   //P00设置为输入模式
  48   1              while(1)
  49   1              {
  50   2                      if(P00)
  51   2                      {
C51 COMPILER V9.02   MAIN                                                                  05/11/2022 23:26:56 PAGE 2   

  52   3      #ifdef PRINT_EN
                                      uart_printf("P00 Input High!\n");
              #endif
  55   3                      }
  56   2                      else
  57   2                      {
  58   3      #ifdef PRINT_EN
                                      uart_printf("P00 Input Low!\n");
              #endif
  61   3                      }
  62   2              }
  63   1      /***********************************************************************************/   
  64   1              
  65   1              
  66   1              
  67   1      
  68   1      /***********************************************************************************/   
  69   1              P00F = OUTPUT;                                  //P00设置为推挽输出模式
  70   1              P00C |= 0x80;                                   //P00使能高灌电流模式
  71   1      /***********************************************************************************/   
  72   1      
  73   1              
  74   1      /***********************************************************************************/   
  75   1              P00F = INPUT|PU_EN;                             //P00设置为输入模式并使能上拉电阻
  76   1              P00C |= 0x20;                                   //上拉电阻选择为强上拉
  77   1      //      P00C &= ~0x20;                                  //上拉电阻选择为弱上拉
  78   1      /***********************************************************************************/
  79   1      
  80   1      
  81   1      
  82   1      /***********************************************************************************/   
  83   1              P00F = INPUT|PD_EN;                             //P00设置为输入模式并使能下拉电阻
  84   1              P00C |= 0x10;                                   //下拉电阻选择为强下拉
  85   1      //      P00C &= ~0x10;                                  //下拉电阻选择为弱下拉
  86   1      /***********************************************************************************/   
  87   1      
  88   1      
  89   1      /***********************************************************************************/   
  90   1              P00F = P00_COM0_SETTING;                //P00设置为COM引脚功能
  91   1      /***********************************************************************************/   
  92   1              
  93   1              while(1)
  94   1              {
  95   2      
  96   2              }
  97   1      }
  98          #endif


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     12    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.

C51 COMPILER V9.02   MAIN                                                                  05/11/2022 23:26:56 PAGE 3   


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
